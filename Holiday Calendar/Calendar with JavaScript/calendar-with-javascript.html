<div class="calendar-container">
  <div class="day-frame center real" id='one' data-day="1" data-start="2025-12-01" data-end="2025-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/search?featured=Ornaments">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
  </div>
  
  <div class="day-frame center real" id='two' data-day="2" data-start="2025-12-02" data-end="2025-12-02">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/all-apparel">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
    <div class="day-label center" data-type="finished">This deal has finished!</div>
  </div>
  
  <div class="day-frame center real" id='three' data-day="3" data-start="2025-12-03" data-end="2025-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/supplies-art/umarket/candy?itembadges=Featured">Candy: Shop Now</a>
      <a href="https://www.store.utah.edu/souvenirs-gifts/toys-games" style="text-align:center;">FOCO Football: Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
  </div>
  
  <div class="day-frame center real" id="four" data-day="4" data-start="2025-12-04" data-end="2025-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/search?order=onlinecustomerprice:desc&brand=Riddell">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
  </div>
  
  <div class="day-frame center real" id='five' data-day="5" data-start="2025-12-05" data-end="2025-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/home-office/bedding-dorm">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
  </div>
  
  <div class="day-frame center real" id='six' data-day="6" data-start="2025-12-06" data-end="2025-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/souvenirs-gifts/drinkware?itembadges=Featured">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
  </div>
  
  <div class="day-frame center real" id='seven' data-day="7" data-start="2025-12-07" data-end="2025-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/souvenirs-gifts/stadium-tailgate?itembadges=Bundle-and-Save">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
  </div>
  
  <div class="day-frame center real" id='eight' data-day="8" data-start="2025-12-08" data-end="2025-12-08">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/accessories/categories/footwear-socks?footwear_shoes_socks=Socks">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
    <div class="day-label center" data-type="finished">This deal has finished!</div>
  </div>
  
  <div class="day-frame center real" id='nine' data-day="9" data-start="2025-12-09" data-end="2025-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/search?order=onlinecustomerprice:desc&featured=Scenic-Collection,State-of-Utah-Collection">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
  </div>
  
  <div class="day-frame center real" id='ten' data-day="10" data-start="2025-12-10" data-end="2025-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/accessories?itembadges=Bundle-and-Save">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
  </div>
  
  <div class="day-frame center real" id='eleven' data-day="11" data-start="2025-12-11" data-end="2025-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/search?featured=Sleepwear">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
  </div>
  
  <div class="day-frame center real" id='twelve' data-day="12" data-start="2027-12-12" data-end="2030-12-31">
    <div class="day-label center" data-type="active">
      <a href="https://www.store.utah.edu/accessories/hats">Shop Now</a>
    </div>
    <div class="day-label center" data-type="upcoming">Coming Soon!</div>
    <div class="day-label center" data-type="finished">This deal has finished!</div>
  </div>
</div>

<style>
* {
  margin: 0;
  padding: 0;
  transition: 0.05s ease-in;
}

.calendar-container {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  gap: 20px;
}

.day-frame {
  aspect-ratio: 1;
  border-radius: 10px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.30);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.day-frame.real::before {
  content: "";
  position: absolute;
  top:0; left:0; right:0; bottom:0;
  background-color: rgba(0,0,0,0);
  transition: background-color 0.3s ease;
  z-index: 1;
}

.day-frame.real:hover::before {
  background-color: rgba(0,0,0,0.3);
}

.day-frame.real::after {
  content: "";
  position: absolute;
  top:0; left:0; right:0; bottom:0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 0;
  display: none;
}

/* Show ::after image when deal is active OR finished */
.day-frame.real.show-after::after {
  display: block;
}

.day-frame.real.show-after:hover::after {
  opacity: 1;
}

.day-frame.real:hover {
  transform: scale(1.1);
}

.day-number {
  position: absolute;
  top: 10px;
  right: 10px;
  margin: 0 !important;
  padding: 0 !important;
  color: green !important;
  text-shadow: 0 0 1rem rgba(0, 0, 0, 0.35);
  line-height: 3rem;
  text-align: right;
  z-index: 2;
}

.real:hover > .day-number {
    color: rgba(0,0,0,0) !important;
    text-shadow: 0 0 0 rgba(0,0,0,0);
}

.day-label {
  position: absolute;
  color: white;
  font-size: 1.35rem !important;
  opacity: 0;             
  pointer-events: none;   
  transition: opacity 0.3s ease-in-out;
  border-radius: 5px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0px;
  z-index: 3;
}

.real:hover > .day-label {
  opacity: 1;            
  pointer-events: auto;  
}

.day-label * {
  color: white;
}

.day-label > p,
.day-label > a {
  margin: 0;
  padding: 0;
}

.day-label .day-label-title {
  font-size: 2rem !important;
  margin-bottom: 0;
  padding-bottom: 0;
}

.day-label > p {
  font-size: 1rem !important;
  padding: 0 5px !important;
  text-align: center;
}

.day-label > a {
  text-decoration: underline;
  font-size: 1.35rem !important;
  font-weight:bold;
  text-shadow: 2px 2px 6px rgba(255,0,0,0.75);
}

.day-label > a:hover {
  text-shadow: 0 0 0 rgba(0,0,0,0);
}

.center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@media screen and (min-width: 1200px) {
  .calendar-container {
    grid-template-columns: 1fr 1fr 1fr 1fr;
  }
  #one h3.day-number, #two h3.day-number, #three h3.day-number,
  #four h3.day-number, #five h3.day-number, #six h3.day-number,
  #seven h3.day-number, #eight h3.day-number, #nine h3.day-number,
  #ten h3.day-number, #eleven h3.day-number, #twelve h3.day-number {
    font-size: 3rem !important;
    line-height:3rem !important;
  }
}

@media screen and (max-width: 1200px) and (min-width: 480px) {
  .calendar-container {
    grid-template-columns: 1fr 1fr 1fr;
    margin-top: 50px;
  }
  #one h3.day-number, #two h3.day-number, #three h3.day-number,
  #four h3.day-number, #five h3.day-number, #six h3.day-number,
  #seven h3.day-number, #eight h3.day-number, #nine h3.day-number,
  #ten h3.day-number, #eleven h3.day-number, #twelve h3.day-number {
    font-size: 2rem !important;
    line-height:2rem !important;
  }
}

@media screen and (max-width: 480px) {
  .calendar-container {
    grid-template-columns: 1fr 1fr;
    margin-top: 50px;
  }
  .day-label {
    gap:0px !important;
  }
  .day-label .day-label-title {
    font-size: 1rem !important;
    margin: 0 !important;
    padding: 0 5px !important;
    line-height:1rem !important;
  }
  .day-label > p {
    font-size: .65rem !important;
    margin: 0 !important;
    padding: 0 5px !important;
    line-height:1rem !important;
  }
  .day-label > a {
    font-size: .80rem !important;
    margin: 0 !important;
    padding: 0 5px !important;
    line-height:1rem !important;
  }
  #one h3.day-number, #two h3.day-number, #three h3.day-number,
  #four h3.day-number, #five h3.day-number, #six h3.day-number,
  #seven h3.day-number, #eight h3.day-number, #nine h3.day-number,
  #ten h3.day-number, #eleven h3.day-number, #twelve h3.day-number {
    font-size: 1rem !important;
    line-height:1rem !important;
  }
}

#one { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day01.jpg"); }
#two { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day02.jpg"); }
#three { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day03.jpg"); }
#four { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day04.jpg"); }
#five { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day05.jpg"); }
#six { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day06.jpg"); }
#seven { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day07.jpg"); }
#eight { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day08.jpg"); }
#nine { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day09.jpg"); }
#ten { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day10.jpg"); }
#eleven { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day11.jpg"); }
#twelve { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-square-day12.jpg"); }

#one.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day01.jpg"); }
#two.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day02.jpg"); }
#three.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day03.jpg"); }
#four.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day04.jpg"); }
#five.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day05.jpg"); }
#six.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day06.jpg"); }
#seven.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day07.jpg"); }
#eight.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day08.jpg"); }
#nine.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day09.jpg"); }
#ten.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day10.jpg"); }
#eleven.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day11.jpg"); }
#twelve.real::after { background-image: url("https://www.store.utah.edu/assets/f25-12dcc-day12.jpg"); }
</style>

<script>
function updateCalendar() {
  const now = new Date();
  const frames = document.querySelectorAll('.day-frame');
  
  frames.forEach(frame => {
    const startDate = new Date(frame.dataset.start);
    const endDate = new Date(frame.dataset.end);
    
    // Set end date to end of day
    endDate.setHours(23, 59, 59, 999);
    
    const labels = frame.querySelectorAll('.day-label');
    
    // Hide all labels first
    labels.forEach(label => {
      label.style.display = 'none';
    });

    // Reset classes that control the after image
    frame.classList.remove('deal-active', 'show-after');
    
    // Determine which label to show and whether to show the ::after image
    if (now < startDate) {
      // Deal hasn't started yet - show "Coming Soon" and hide ::after image
      const upcomingLabel = frame.querySelector('[data-type="upcoming"]');
      if (upcomingLabel) upcomingLabel.style.display = 'flex';
      
    } else if (now >= startDate && now <= endDate) {
      // Deal is active - show "Shop Now" and enable ::after image
      const activeLabel = frame.querySelector('[data-type="active"]');
      if (activeLabel) activeLabel.style.display = 'flex';
      frame.classList.add('deal-active', 'show-after');
      
    } else {
      // Deal has finished - show "This deal has finished" and STILL show ::after image
      const finishedLabel = frame.querySelector('[data-type="finished"]');
      if (finishedLabel) finishedLabel.style.display = 'flex';
      frame.classList.add('show-after');
    }
  });
}

// Run on page load
updateCalendar();

// Optional: Update every hour in case someone leaves the page open
setInterval(updateCalendar, 3600000);
</script>
